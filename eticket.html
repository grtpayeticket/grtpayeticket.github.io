<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Single Ride Ticket</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Inter', sans-serif;
    }

    body {
      background: #f7f7f7;
      display: flex;
      justify-content: center;
      align-items: flex-start;
      min-height: 100vh;
    }

    .closebtn {
      font-size: 16px;
      font-weight: 500;
      margin-top: 24px;
      position: absolute;
      /*left: 0;*/
      color: #121212;
      width: 372px;
      display: flex;
      align-items: center;
      justify-content: right;
      padding: 0 0px;
    }

    .ticket-frame {
      width: 372px;
      height: 724px;
      background: #fff;
      border-radius: 8px;
      margin-top: 54px;
      box-shadow: 0 0 20px rgba(0,0,0,0.1);
      display: flex;
      flex-direction: column;
      align-items: center;
      position: relative;
    }


    /* Header */
    .header {
      width: 100%;
      height: 40px;
      background: #006CB7;
      color: #fff;
      display: flex;
      justify-content: center;
      align-items: center;
      font-size: 16px;
      font-weight: 500;
      letter-spacing: 0.1em;
      border-top-left-radius: 8px;
      border-top-right-radius: 8px;
    }

    /* QR Section */
    .qr-section {
      margin-top: 20px;
      width: 196px;
      height: 196px;
      background: #eee;
      display: flex;
      justify-content: center;
      align-items: center;
      border-radius: 4px;
      overflow: hidden;
    }

    .qr-placeholder {
      width: 100%;
      height: 100%;
      background: repeating-linear-gradient(45deg, #000 0 5px, #fff 5px 10px);
      transition: 0.3s;
    }

    /* Time + Background Section */
    .time-frame {
      margin-top: 20px;
      width: 340px;
      height: 240px;
      background: url('assets/bg.svg') center/cover no-repeat;
      border-radius: 8px;
      position: relative;
      display: flex;
      justify-content: center;
      align-items: center;
      overflow: hidden;
    }

    /* Temporary colored divs for 3 blocks */
    .color-blocks {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 50px;
      display: flex;
      z-index: 2;
    }

    .color-block {
      flex: 1;
      position: relative;
      overflow: hidden;
      transition: background-color 3600s linear;
      /*background: #c6f219;*/
    }

    .color-block:nth-child(1) { background: #C6F219; }
    .color-block:nth-child(2) { background: #1FF31B; }
    .color-block:nth-child(3) { background: #AAA973; }

    /* White overlay layer */
    .color-block::after {
      content: "";
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(255, 255, 255, 1);
      opacity: 0;
      animation: fadeOverlay 1s infinite alternate;
    }

    /* Offset animation timing slightly for each block 
    .color-block:nth-child(2)::after { animation-delay: 0.3s; }
    .color-block:nth-child(3)::after { animation-delay: 0.6s; } */

    /* White overlay fade effect */
    @keyframes fadeOverlay {
      0% { opacity: 0; }
      100% { opacity: 0.5; } /* white hue to 20% */
    }

    /* Time Display */
    .time-display {
      position: absolute;
      top: 10%; /* center vertically */
      transform: translateY(-50%); /* perfectly centered */
      color: #fff;
      font-weight: 600;
      font-size: 24px;
      /*background: rgba(0,0,0,0.4);*/
      border-radius: 4px;
      text-shadow: #000 0px 0px 5px;
      text-shadow: #000 0px 0px 3.3px;
      text-shadow: #000 0px 0px 7px;
      padding: 4px 10px;
      animation: moveTime 2s ease-in-out infinite alternate;
      z-index: 3;
    }

    @keyframes moveTime {
      0% { left: 12px; }
      100% { left: calc(100% - 12px - 230px); } /* Adjust 145px roughly to text width */
    }

    /* Divider line */
    .divider {
      position: absolute;
      margin-top: 650px;
      left: 0;
      width: 100%;
    }


    .ticket-buttons {
      position: absolute;
      bottom: 16px;
      left: 0;
      width: 100%;
      display: flex;
      justify-content: space-between;
      padding: 0 8px;
    }

/* Ticket Buttons */
.ticket-btn {
  display: flex;
  align-items: center;
  gap: 6px;
  padding: 8px 14px;
  font-size: 14px;
  color: #29A6DF;
  background: none;      /* removes background */
  border: none;          /* removes border */ 
}

/*.ticket-btn:hover {
  background: #e0e0e0;
}*/

.ticket-btn .icon {
  display: flex;
  align-items: center;
}



  </style>
</head>


<body>
  <div class="closebtn">Close</div>
  <div class="ticket-frame">
    <div class="header">Single Ride Ticket</div>

    <div class="qr-section">
      <div class="qr-placeholder" id="qr">
        <img id="aztec-code" src="assets/aztec1.svg" alt="Aztec Code" width="196" height="196">
      </div>
    </div>

    <div class="time-frame">
      <div class="color-blocks">
        <div class="color-block"></div>
        <div class="color-block"></div>
        <div class="color-block"></div>
      </div>
      <div class="time-display" id="timeDisplay">--:--:-- --/--/--</div>
    </div>

    <div class="divider">
      <svg width="372" height="4" xmlns="http://www.w3.org/2000/svg">
      <circle cx="1" cy="1" r="1.0" fill="#bdbdbd" />
      <!-- Repeat dots using pattern -->
      <defs>
        <pattern id="dotPattern" x="0" y="0" width="8" height="4" patternUnits="userSpaceOnUse">
          <circle cx="1" cy="1" r="1.0" fill="#bdbdbd" />
        </pattern>
      </defs>
      <rect width="100%" height="100%" fill="url(#dotPattern)" />
      </svg>
    </div>
    <div class="ticket-buttons">
      <button class="ticket-btn left-btn">
        <img src="assets/actions.svg" alt="action Icon" class="icon" />
        Action
      </button>
      <button class="ticket-btn right-btn">
        <img src="assets/details.svg" alt="details Icon" class="icon" />
        Details
      </button>
    </div>
  </div>

  <script>
    // --- Time Animation ---
    function updateTime() {
       const now = new Date();
      let hours = now.getHours() % 12 || 12; // convert 24hr â†’ 12hr
      const h = String(hours).padStart(2,'0');
      const m = String(now.getMinutes()).padStart(2,'0');
      const s = String(now.getSeconds()).padStart(2,'0');
      const d = String(now.getDate()).padStart(2,'0');
      const mo = String(now.getMonth()+1).padStart(2,'0');
      const y = String(now.getFullYear()).toString().slice(2);
      document.getElementById('timeDisplay').textContent = `${h}:${m}:${s} ${d}/${mo}/${y}`;
    }
    setInterval(updateTime, 1000);
    updateTime();

    /* --- QR Simulation ---
    function randomPattern() {
      const qr = document.getElementById('qr');
      const hue = Math.floor(Math.random() * 360);
      qr.style.background = `repeating-linear-gradient(45deg, hsl(${hue},100%,10%) 0 5px, #fff 5px 10px)`;
    }
    setInterval(randomPattern, 2000);
    randomPattern(); --- */

    // --- Aztec Code Simulation ---
    const qrImages = ["assets/aztec1.svg", "assets/aztec2.svg"];
    let currentIndex = 0;
    const qrElement = document.getElementById("aztec-code");

    setInterval(() => {
      currentIndex = (currentIndex + 1) % qrImages.length;
      qrElement.src = qrImages[currentIndex];
    }, 2000);

    document.addEventListener("DOMContentLoaded", () => {
    const colorBlocks = document.querySelectorAll('.color-block');

    // Generate a random pastel color
    function randomPastel() {
      const r = Math.floor((Math.random() * 127) + 127);
      const g = Math.floor((Math.random() * 127) + 127);
      const b = Math.floor((Math.random() * 127) + 127);
      return `rgb(${r}, ${g}, ${b})`;
    }

    // Initialize and periodically update each block
    colorBlocks.forEach(block => {
      block.style.backgroundColor = randomPastel();
      setInterval(() => {
        block.style.backgroundColor = randomPastel();
      }, 3600 * 1000); // every hour
    });
  });
  </script>
</body>
</html>
